# 表格样式开发规范

本规范确保系统中所有表格的样式一致性，特别是状态标签、对齐方式和间距。

---

## 📋 基础表格结构

```tsx
<div className="bg-white rounded-lg border border-gray-200 overflow-hidden">
  <div className="overflow-x-auto">
    <table className="w-full text-xs">
      <thead className="bg-gray-50">
        <tr>
          <th className="px-3 py-2 text-left font-medium text-gray-500 whitespace-nowrap">列名</th>
          {/* 更多表头... */}
        </tr>
      </thead>
      <tbody>
        <tr className="border-b hover:bg-gray-50">
          <td className="px-3 py-2">内容</td>
          {/* 更多单元格... */}
        </tr>
      </tbody>
    </table>
  </div>
</div>
```

---

## 🎯 列对齐规范

### 表头对齐
| 列类型 | 对齐方式 | className |
|--------|---------|-----------|
| 文本列 | 左对齐 | `text-left` |
| 数字/金额 | 右对齐 | `text-right` |
| 状态/标签 | 居中 | `text-center` |
| 操作列 | 居中 | `text-center` |

### 表头标准样式
```tsx
// 文本列
<th className="px-3 py-2 text-left font-medium text-gray-500 whitespace-nowrap">列名</th>

// 数字列
<th className="px-3 py-2 text-right font-medium text-gray-500 whitespace-nowrap">金额</th>

// 状态列
<th className="px-3 py-2 text-center font-medium text-gray-500 whitespace-nowrap">状态</th>

// 操作列
<th className="px-3 py-2 text-center font-medium text-gray-500 whitespace-nowrap">操作</th>
```

---

## 🏷️ 状态标签规范（重要）

### ✅ 正确写法（使用 flex 居中）

```tsx
<td className="px-3 py-2">
  <div className="flex items-center justify-center">
    <span className={`inline-flex items-center justify-center min-w-[52px] px-2 py-0.5 rounded text-xs ${
      isActive 
        ? 'bg-green-100 text-green-700' 
        : 'bg-gray-100 text-gray-600'
    }`}>
      {isActive ? '已核实' : '待核实'}
    </span>
  </div>
</td>
```

### ❌ 错误写法（不要这样写）

```tsx
// 错误：直接使用 text-center，可能导致对齐不一致
<td className="px-3 py-2 text-center">
  <span className="px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs">
    已核实
  </span>
</td>
```

### 状态标签颜色规范

| 状态类型 | 背景色 | 文字色 | 示例 |
|----------|--------|--------|------|
| 成功/已完成 | `bg-green-100` | `text-green-700` | 已核实、已完成、已支付 |
| 警告/进行中 | `bg-amber-100` | `text-amber-700` | 待处理、进行中 |
| 错误/失败 | `bg-red-100` | `text-red-700` | 失败、已取消 |
| 信息/默认 | `bg-blue-100` | `text-blue-700` | 新建、草稿 |
| 禁用/待定 | `bg-gray-100` | `text-gray-600` | 待核实、未激活 |

---

## 📐 间距规范

### 单元格内边距
- 标准：`px-3 py-2`
- 紧凑：`px-2 py-1.5`

### 标签内边距
- 标准：`px-2 py-0.5`
- 较大：`px-3 py-1`

### 最小宽度（确保对齐）
```tsx
// 状态标签最小宽度
min-w-[52px]  // 适用于2-3个汉字

// 数字标签最小宽度
min-w-[40px]  // 适用于数字
```

---

## 🔢 数字/金额列规范

```tsx
// 金额（右对齐）
<td className="px-3 py-2 text-right text-gray-900">
  €{amount.toFixed(2)}
</td>

// 百分比（居中，带颜色）
<td className="px-3 py-2 text-center">
  <span className={rate > 0 ? 'text-amber-600' : 'text-gray-500'}>
    {rate}%
  </span>
</td>

// 数量（居中，带背景）
<td className="px-3 py-2 text-center">
  <span className="px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full">
    {count}
  </span>
</td>
```

---

## 🔘 操作列规范

```tsx
<td className="px-3 py-2">
  <div className="flex items-center justify-center gap-1">
    <button
      onClick={handleView}
      className="p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-primary-600"
      title="查看详情"
    >
      <Eye className="w-4 h-4" />
    </button>
    <button
      onClick={handleEdit}
      className="p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-blue-600"
      title="编辑"
    >
      <Edit2 className="w-4 h-4" />
    </button>
    <button
      onClick={handleDelete}
      className="p-1 hover:bg-gray-100 rounded text-gray-500 hover:text-red-600"
      title="删除"
    >
      <Trash2 className="w-4 h-4" />
    </button>
  </div>
</td>
```

---

## 📱 响应式处理

### 长文本截断
```tsx
<td className="px-3 py-2">
  <div className="max-w-[150px]">
    <div className="font-medium text-gray-900 truncate" title={fullText}>
      {fullText}
    </div>
  </div>
</td>
```

### 日期时间格式化
```tsx
<td className="px-3 py-2 text-gray-500 whitespace-nowrap">
  {date ? new Date(date).toLocaleDateString('zh-CN') : '-'}
</td>
```

---

## ✅ 检查清单

开发新表格时，请确认：

- [ ] 所有状态标签使用 `flex` 布局居中
- [ ] 状态标签设置了 `min-w-[52px]` 确保宽度一致
- [ ] 数字/金额列使用 `text-right` 右对齐
- [ ] 表头和内容的对齐方式一致
- [ ] 操作按钮使用 `flex` 布局并设置 `gap-1`
- [ ] 长文本有 `truncate` 和 `title` 属性
- [ ] 日期时间有 `whitespace-nowrap` 防止换行

---

## 🎨 复制可用的状态标签组件

```tsx
// 通用状态标签组件
interface StatusBadgeProps {
  status: 'success' | 'warning' | 'error' | 'info' | 'default';
  text: string;
}

const statusStyles = {
  success: 'bg-green-100 text-green-700',
  warning: 'bg-amber-100 text-amber-700',
  error: 'bg-red-100 text-red-700',
  info: 'bg-blue-100 text-blue-700',
  default: 'bg-gray-100 text-gray-600',
};

const StatusBadge: React.FC<StatusBadgeProps> = ({ status, text }) => (
  <div className="flex items-center justify-center">
    <span className={`inline-flex items-center justify-center min-w-[52px] px-2 py-0.5 rounded text-xs ${statusStyles[status]}`}>
      {text}
    </span>
  </div>
);

// 使用示例
<td className="px-3 py-2">
  <StatusBadge status="success" text="已核实" />
</td>
```

---

**最后更新**: 2024-12-20
